\begin{tikzpicture} [align=center, arrowout]

\node(parser) at (0,0)  [box, rounded corners] {Parser};

\node(gen) at (3,0) [box, rounded corners] {Transformer};

\node(eval) at (6.5,0) [box, rounded corners] {Evaluator};

\node(apply) at (4.5,-2) [box, rounded corners] {Rule Applier};

\draw[arrowout] (-2, 0.22) -- node[above, text width=1.5cm]{\scriptsize{Graph File}} (parser.160);
\draw[arrowout] (-2, -0.22) -- node[below, text width=1.5cm]{\scriptsize{Program File}} (parser.200);


\draw [arrowout] (parser) --  (gen);
\node at (1.35,0.3) {\scriptsize{AST}};

\draw [arrowout] (gen.10) -- node[above, text width=1cm]{\scriptsize{Initial Graph}} (eval.167);
\draw [arrowout] (gen.350) --  (eval.193);
\node at (4.9,-0.5) [text width=1cm]{\scriptsize{Program}};

\draw [arrowout] (eval.325) |- (apply.350);
\node at (7.8,-1.3) {\scriptsize{Rule}};
\draw [arrowout] (eval.310) |- (apply.10);
\node at (6.4, -1.3) [text width=1cm]{\scriptsize{Graph}};
\draw[arrowout] (7,1.5) -- node[left, text width=1.5cm]{\scriptsize{Max \# Rule Apps}} (eval.45);

\draw [arrowout] (apply.90) --  (eval.225);
\node at (4.6,-1) {\scriptsize{Graphs}};

\draw[arrowout] (eval) -- node[above, text width=1cm]{\scriptsize{Output Data}} (8.5,0);

\end{tikzpicture}


