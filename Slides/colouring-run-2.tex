\begin{tikzpicture} [scale=0.75,align=center,auto,inner sep=1mm,arrowin,arrowout,font=\ttfamily]

\tikzstyle{every text node part}=[font=\small]

\node at (1.55, 2.1) {Main = init!; \textbf{inc!}};
\node at (1.7,1.3) {inc(a,x,y:list; i:int)};

\node (l1) at (0,0)[circle,draw,fill=black!20,inner sep=1.5mm,label=below:\scriptsize{1}]{x:i};
\node (l2) at (2.5,0)[circle,draw,fill=black!20,inner sep=1.5mm,label=below:\scriptsize{2}]{y:i}
  edge [<-] node[above]{a} (l1);

\node at (4,0){$\Rightarrow$};

\node (r1) at (5.5,0)[circle,draw,fill=black!20,inner sep=1.5mm,label=below:\scriptsize{1}]{x:i};
\node (r2) at (8,0)[circle,draw,inner sep=0.2mm,fill=black!20,label=below:\scriptsize{2}]{y:i+1}
  edge [<-] node[above]{a} (r1);

\begin{scope}[yshift=-4cm]
\node (g1) at (0,0)[circle,draw,fill=black!20]{1};
\node<1>(g2) at (1.5,1.5)[circle,draw,fill=black!20]{1}
  edge[<-, dashed] (g1);
\node<2>(g2) at (1.5,1.5)[circle,draw,fill=black!20]{1}
  edge[<-] (g1);
\node<1>(g3) at (1.5,-1.5)[circle,draw,fill=black!20]{1}
  edge[<-, dashed] (g1);
\node<2>(g3) at (1.5,-1.5)[circle,draw,fill=black!20]{1}
  edge[<-] (g1);
\node (g4) at (3,0)[circle,draw,fill=black!20]{1}
  edge[<-] (g2)
  edge[<-] (g3);

\node<2> at (4.5,0){$\Rightarrow^2$};

\node<2> (g1) at (6,0)[circle,draw,fill=black!20]{1};
\node<2> (g2) at (7.5,1.5)[circle,draw,fill=black!20]{2}
  edge[<-] (g1);
\node<2> (g3) at (7.5,-1.5)[circle,draw,fill=black!20]{2}
  edge[<-] (g1);
\node<2> (g4) at (9,0)[circle,draw,fill=black!20]{1}
  edge[<-] (g2)
  edge[<-] (g3);
\end{scope}

\end{tikzpicture}
